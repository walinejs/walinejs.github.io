"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2656],{1842:(e,n,t)=>{t.r(n),t.d(n,{data:()=>a});const a={key:"v-7871496c",path:"/en/migration/valine.html",title:"Migration from Valine",lang:"en-US",frontmatter:{title:"Migration from Valine",icon:"valine",head:[["meta",{property:"og:url",content:"https://waline.js.org/en/migration/valine.html"}],["meta",{property:"og:title",content:"Migration from Valine"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:locale",content:"en-US"}],["meta",{property:"og:locale:alternate",content:"zh-CN"}],["meta",{name:"twitter:card",content:"summary_large_image"}]]},excerpt:"",headers:[{level:2,title:"Migration to Cloudbase",slug:"migration-to-cloudbase",children:[]}],git:{createdTime:1645663171e3,updatedTime:1645663171e3,contributors:[{name:"dependabot[bot]",email:"49699333+dependabot[bot]@users.noreply.github.com",commits:1}]},readingTime:{minutes:1.33,words:398},filePathRelative:"en/migration/valine.md"}},8477:(e,n,t)=>{t.r(n),t.d(n,{default:()=>z});var a=t(8917);const o=(0,a._)("p",null,"Since Waline completely reuses Valine's data structure in storage, migrating from Valine to Waline is very simple.",-1),l=(0,a.Uk)("Deploy backend according to "),i=(0,a.Uk)("Vercel Deploy"),s=(0,a.Uk)(" in "),r=(0,a._)("em",null,"Get Started",-1),c=(0,a.Uk)(" section. "),d=(0,a._)("code",null,"LEAN_ID",-1),p=(0,a.Uk)(" and "),u=(0,a._)("code",null,"LEAN_KEY",-1),m=(0,a.Uk)(" should be the same as those applied for when using Valine before. Don't forget to set "),k=(0,a._)("code",null,"LEAN_MASTER_KEY",-1),g=(0,a.Uk)(" for Waline."),f=(0,a.Uk)("Modifiy frontend scripts according to "),h=(0,a.Uk)("HTML"),b=(0,a.Uk)(" in "),_=(0,a._)("em",null,"Get Started",-1),v=(0,a.Uk)(" section. Please remind we should remove old configuration "),U=(0,a._)("code",null,"appId",-1),y=(0,a.Uk)(" and "),w=(0,a._)("code",null,"appKey",-1),x=(0,a.Uk)(" from Valine, and add "),C=(0,a._)("code",null,"serverURL",-1),E=(0,a.Uk)(" option."),L=(0,a.uE)('<div class="language-diff ext-diff"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> &lt;script src=&#39;//unpkg.com/valine/dist/Valine.min.js&#39;&gt;&lt;/script&gt;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;script src=&#39;//cdn.jsdelivr.net/npm/@waline/client&#39;&gt;&lt;/script&gt;\n</span></span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;script&gt;\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">  new Valine({\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  Waline({\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   el: &#39;#vcomments&#39;,\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   appId: &#39;Your appId&#39;,\n</span><span class="token prefix deleted">-</span><span class="token line">   appKey: &#39;Your appKey&#39;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   serverURL: &#39;YOUR SERVER URL&#39;\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> });\n</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/script&gt;\n</span></span></code></pre></div>',1),V={class:"custom-container tip"},R=(0,a._)("p",{class:"custom-container-title"},"Config",-1),W=(0,a._)("p",null,[(0,a.Uk)("Most configuration are same between Waline and Valine, but there are a bit difference. For v1 and v0.x versions, you only need to delete "),(0,a._)("code",null,"appId"),(0,a.Uk)(" and "),(0,a._)("code",null,"appKey"),(0,a.Uk)(" from Valine config and add "),(0,a._)("code",null,"serverURL"),(0,a.Uk)(", and everything should work well. But for future V2, we will remove some Valine compatibility and switch to a better config scheme.")],-1),I=(0,a.Uk)("For waline config, please refer to "),M=(0,a.Uk)("Client Config"),D=(0,a.Uk)(". You can also check "),A=(0,a.Uk)("Waline Client v1 Migration Guide"),S=(0,a.Uk)(" to learn about the options that are not compatible with Valine."),N=(0,a.uE)('<div class="custom-container tip"><p class="custom-container-title">Using Leancloud China</p><p>Besides <code>LEAN_ID</code> and <code>LEAN_KEY</code>, you need to config <code>LEAN_SERVER</code> environment variable if you&#39;re the user of LeanCloud China.</p><p>Also, you need to complete Domain name filing to Local Communications Administration, that needs a Fixed IP。</p></div><h2 id="migration-to-cloudbase" tabindex="-1"><a class="header-anchor" href="#migration-to-cloudbase" aria-hidden="true">#</a> Migration to Cloudbase</h2><p>If you want to migrate your Valine data to Tencent Cloud Database, you can use the import function of LeanCloud with the import function of the cloud database. Select <kbd>Import/Export</kbd> &gt; <kbd>Limit to certain classes</kbd> &gt; <kbd>Comment</kbd> &gt; <kbd>Export</kbd> in the LeanCloud background, and then you will receive a email notification.</p>',3),T=(0,a.Uk)("Paste the content of export file into the textarea below, and click the convert button to obtain the file to be imported. Enter the "),Y={href:"https://console.cloud.tencent.com/tcb/db/index",target:"_blank",rel:"noopener noreferrer"},K=(0,a.Uk)("Tencent Cloud Development Backend → Database"),P=(0,a.Uk)(" page and select the "),j=(0,a._)("code",null,"Comment",-1),B=(0,a.Uk)(" collection. If the collection doesn't exist, click "),F=(0,a._)("kbd",null,"New Collection",-1),G=(0,a.Uk)(" in the upper left corner to create it. Click the import button above, select the converted file and wait a while to complete importing."),H={},z=(0,t(6959).Z)(H,[["render",function(e,n){const t=(0,a.up)("RouterLink"),H=(0,a.up)("ExternalLinkIcon"),z=(0,a.up)("MigrationTool");return(0,a.wg)(),(0,a.iD)(a.HY,null,[o,(0,a._)("ol",null,[(0,a._)("li",null,[l,(0,a.Wm)(t,{to:"/en/guide/get-started.html#deploy-to-vercel-server"},{default:(0,a.w5)((()=>[i])),_:1}),s,r,c,d,p,u,m,k,g]),(0,a._)("li",null,[f,(0,a.Wm)(t,{to:"/en/guide/get-started.html#importing-in-html-client"},{default:(0,a.w5)((()=>[h])),_:1}),b,_,v,U,y,w,x,C,E])]),L,(0,a._)("div",V,[R,W,(0,a._)("p",null,[I,(0,a.Wm)(t,{to:"/en/reference/client.html"},{default:(0,a.w5)((()=>[M])),_:1}),D,(0,a.Wm)(t,{to:"/en/migration/client.html"},{default:(0,a.w5)((()=>[A])),_:1}),S])]),N,(0,a._)("p",null,[T,(0,a._)("a",Y,[K,(0,a.Wm)(H)]),P,j,B,F,G]),(0,a.Wm)(z)],64)}]])}}]);
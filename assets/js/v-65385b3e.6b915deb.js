(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4023],{5483:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>p});const p={key:"v-65385b3e",path:"/client/emoji.html",title:"自定义表情",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"基本用法",slug:"基本用法",children:[]},{level:2,title:"举个栗子",slug:"举个栗子",children:[]},{level:2,title:"历史问题",slug:"历史问题",children:[]}],filePathRelative:"client/emoji.md",git:{updatedTime:1621958162e3,contributors:[]}}},4630:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>e});const p=(0,a(8917).uE)('<h1 id="自定义表情"><a class="header-anchor" href="#自定义表情">#</a> 自定义表情</h1><h2 id="基本用法"><a class="header-anchor" href="#基本用法">#</a> 基本用法</h2><p>Waline 支持<code>自定义表情</code>。默认内置<code>微博表情</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Waline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">&#39;#waline&#39;</span><span class="token punctuation">,</span>\n  serverURL<span class="token operator">:</span> <span class="token string">&#39;&lt;YOUR SERVER URL&gt;&#39;</span><span class="token punctuation">,</span>\n\n  <span class="token comment">// 这里设置 CDN, 默认微博表情 CDN</span>\n  emojiCDN<span class="token operator">:</span> <span class="token string">&#39;https://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/&#39;</span><span class="token punctuation">,</span>\n  <span class="token comment">// 表情 title 和图片映射</span>\n  emojiMaps<span class="token operator">:</span> <span class="token punctuation">{</span>\n    smile<span class="token operator">:</span> <span class="token string">&#39;e3/2018new_weixioa02_org.png&#39;</span><span class="token punctuation">,</span>\n    lovely<span class="token operator">:</span> <span class="token string">&#39;09/2018new_keai_org.png&#39;</span><span class="token punctuation">,</span>\n    <span class="token comment">// ... 更多表情</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="举个栗子"><a class="header-anchor" href="#举个栗子">#</a> 举个栗子</h2><p>比如我们要用<code>Bilibili</code>的表情包:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Waline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">&#39;#waline&#39;</span><span class="token punctuation">,</span>\n  serverURL<span class="token operator">:</span> <span class="token string">&#39;&lt;YOUR SERVER URL&gt;&#39;</span><span class="token punctuation">,</span>\n\n  <span class="token comment">// 设置 Bilibili 表情包地址</span>\n  emojiCDN<span class="token operator">:</span> <span class="token string">&#39;//i0.hdslb.com/bfs/emote/&#39;</span><span class="token punctuation">,</span>\n  <span class="token comment">// 表情 title 和图片映射</span>\n  emojiMaps<span class="token operator">:</span> <span class="token punctuation">{</span>\n    tv_doge<span class="token operator">:</span> <span class="token string">&#39;6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png&#39;</span><span class="token punctuation">,</span>\n    tv_亲亲<span class="token operator">:</span> <span class="token string">&#39;a8111ad55953ef5e3be3327ef94eb4a39d535d06.png&#39;</span><span class="token punctuation">,</span>\n    tv_偷笑<span class="token operator">:</span> <span class="token string">&#39;bb690d4107620f1c15cff29509db529a73aee261.png&#39;</span><span class="token punctuation">,</span>\n    tv_再见<span class="token operator">:</span> <span class="token string">&#39;180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png&#39;</span><span class="token punctuation">,</span>\n    tv_冷漠<span class="token operator">:</span> <span class="token string">&#39;b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png&#39;</span><span class="token punctuation">,</span>\n    tv_发怒<span class="token operator">:</span> <span class="token string">&#39;34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png&#39;</span><span class="token punctuation">,</span>\n    tv_发财<span class="token operator">:</span> <span class="token string">&#39;34db290afd2963723c6eb3c4560667db7253a21a.png&#39;</span><span class="token punctuation">,</span>\n    tv_可爱<span class="token operator">:</span> <span class="token string">&#39;9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png&#39;</span><span class="token punctuation">,</span>\n    tv_吐血<span class="token operator">:</span> <span class="token string">&#39;09dd16a7aa59b77baa1155d47484409624470c77.png&#39;</span><span class="token punctuation">,</span>\n    tv_呆<span class="token operator">:</span> <span class="token string">&#39;fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png&#39;</span><span class="token punctuation">,</span>\n    tv_呕吐<span class="token operator">:</span> <span class="token string">&#39;9f996894a39e282ccf5e66856af49483f81870f3.png&#39;</span><span class="token punctuation">,</span>\n    tv_困<span class="token operator">:</span> <span class="token string">&#39;241ee304e44c0af029adceb294399391e4737ef2.png&#39;</span><span class="token punctuation">,</span>\n    tv_坏笑<span class="token operator">:</span> <span class="token string">&#39;1f0b87f731a671079842116e0991c91c2c88645a.png&#39;</span><span class="token punctuation">,</span>\n    tv_大佬<span class="token operator">:</span> <span class="token string">&#39;093c1e2c490161aca397afc45573c877cdead616.png&#39;</span><span class="token punctuation">,</span>\n    tv_大哭<span class="token operator">:</span> <span class="token string">&#39;23269aeb35f99daee28dda129676f6e9ea87934f.png&#39;</span><span class="token punctuation">,</span>\n    tv_委屈<span class="token operator">:</span> <span class="token string">&#39;d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png&#39;</span><span class="token punctuation">,</span>\n    tv_害羞<span class="token operator">:</span> <span class="token string">&#39;a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png&#39;</span><span class="token punctuation">,</span>\n    tv_尴尬<span class="token operator">:</span> <span class="token string">&#39;7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png&#39;</span><span class="token punctuation">,</span>\n    tv_微笑<span class="token operator">:</span> <span class="token string">&#39;70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png&#39;</span><span class="token punctuation">,</span>\n    tv_思考<span class="token operator">:</span> <span class="token string">&#39;90cf159733e558137ed20aa04d09964436f618a1.png&#39;</span><span class="token punctuation">,</span>\n    tv_惊吓<span class="token operator">:</span> <span class="token string">&#39;0d15c7e2ee58e935adc6a7193ee042388adc22af.png&#39;</span><span class="token punctuation">,</span>\n    <span class="token comment">// ... 更多表情</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="历史问题"><a class="header-anchor" href="#历史问题">#</a> 历史问题</h2><div class="custom-container tip"><p class="custom-container-title">历史版本的 Emoji</p><p>在历史版本中，由于 HTML 标签会被转义，Emoji 图片完全使用 Markdown 的图片语法，这导致历史版本的 Emoji 是由存粹的 <code>&lt;img&gt;</code> 标签进行渲染的。如果你使用了高清表情包，可能会产生显示大小问题。在 <code>@waline/client@0.16.0</code> 以后，表情 emoji 的大小被成功修复。</p><p>如果你需要对历史版本的 Emoji 表情大小进行适配，你可以使用 CSS 选择器做到这一点:</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 你需要把 `https://img.t.sinajs.cn` 换成自己的 CDN */</span>\n<span class="token selector">.v[data-class=&#39;v&#39;] .vcontent img[src^=&quot;https://img.t.sinajs.cn&quot;]</span>\n<span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 1.25em<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div>',9),e={render:function(n,s){return p}}}}]);
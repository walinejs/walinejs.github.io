"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7837],{1673:(e,t,a)=>{a.r(t),a.d(t,{data:()=>n});const n={key:"v-740dc7ea",path:"/guide/server/deta.html",title:"Deta 部署",lang:"zh-CN",frontmatter:{title:"Deta 部署",icon:"deta",head:[["meta",{property:"og:url",content:"https://waline.js.org/guide/server/deta.html"}],["meta",{property:"og:title",content:"Deta 部署"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:locale",content:"zh-CN"}],["meta",{property:"og:locale:alternate",content:"en-US"}],["meta",{name:"twitter:card",content:"summary_large_image"}]]},excerpt:"",headers:[{level:2,title:"如何更新",slug:"如何更新",children:[]},{level:2,title:"如何修改环境变量",slug:"如何修改环境变量",children:[]}],git:{createdTime:1645711312e3,updatedTime:1645711312e3,contributors:[{name:"Starrah",email:"starrah@foxmail.com",commits:1}]},readingTime:{minutes:1.6,words:481},filePathRelative:"guide/server/deta.md"}},5218:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var n=a(8917),r=a(3307),s=a(3062),o=a(761);const l={href:"https://www.deta.sh/",target:"_blank",rel:"noopener noreferrer"},d=(0,n.Uk)("Deta"),p=(0,n.Uk)(" 是一个可免费使用的 Serverless 部署平台。我们可以快速的将 Waline 部署到 Deta 平台上。"),c={href:"https://go.deta.dev/deploy?repo=https://github.com/walinejs/deta-starter",target:"_blank",rel:"noopener noreferrer"},i=(0,n._)("img",{src:"https://button.deta.dev/1/svg",alt:"Deploy with Deta"},null,-1),h=(0,n._)("p",null,"点击上方按钮，跳转至 Deta 平台快速部署。登录之后会让你选择部署的位置，同时需要你输入环境变量。",-1),g=(0,n._)("p",null,[(0,n._)("img",{src:r,alt:"Deta-1"})],-1),u=(0,n._)("p",null,[(0,n.Uk)("填写好后点击 "),(0,n._)("kbd",null,"Deploy"),(0,n.Uk)(" 按钮，稍等片刻会提示你部署成功，并为你展示部署后的网站地址。将其填入前端脚本的 "),(0,n._)("code",null,"serverURL"),(0,n.Uk)(" 配置中，即可完成全部配置。")],-1),m=(0,n._)("p",null,[(0,n._)("img",{src:s,alt:"Deta-2"})],-1),k=(0,n._)("h2",{id:"如何更新",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#如何更新","aria-hidden":"true"},"#"),(0,n.Uk)(" 如何更新")],-1),_=(0,n.Uk)("Deta 使用 CLI 命令行工具对项目进行管理。按照"),f={href:"https://docs.deta.sh/docs/cli/install",target:"_blank",rel:"noopener noreferrer"},v=(0,n.Uk)("文档"),b=(0,n.Uk)("指示安装 Deta 的命令行工具。"),D=(0,n.uE)('<div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token comment"># Mac or Linux</span>\n<span class="token function">curl</span> -fsSL https://get.deta.dev/cli.sh <span class="token operator">|</span> <span class="token function">sh</span>\n\n<span class="token comment"># Windows for powershell</span>\niwr https://get.deta.dev/cli.ps1 -useb <span class="token operator">|</span> iex\n</code></pre></div><p>装好之后我们使用 <code>deta login</code> 来登录命令行，期间会打开浏览器用于登录。</p><p>更新之前我们需要将项目克隆下来。进入到我们的项目的设置页，复制并执行页面中的 <code>deta clone</code> 命令，稍等一会儿项目就下载下来了。</p><p><img src="'+o+'" alt="Deta-2"></p><p>之后我们可以在本地对项目代码进行修改，比如将 <code>package.json</code> 中的依赖版本修改至最新。</p><p>最后我们在命令行中使用 <code>deta deploy</code> 命令即可实现网站的更新部署。</p><h2 id="如何修改环境变量" tabindex="-1"><a class="header-anchor" href="#如何修改环境变量" aria-hidden="true">#</a> 如何修改环境变量</h2><p>修改换进变量同样需要使用 CLI 进行操作。</p><p>按照刚才的步骤将项目克隆到本地后，在项目中新增 <code>.env</code> 文件，将需要修改的环境变量使用 <code>VAR_NAME=VALUE</code> 的形式一行一个写在文件中。最后使用 <code>deta update -e .env</code> 即可完成环境变量更新。</p>',9),U=(0,n.Uk)("具体可参考 "),w={href:"https://docs.deta.sh/docs/micros/env_vars#setting-environment-variables",target:"_blank",rel:"noopener noreferrer"},y=(0,n.Uk)("Deta 环境变量文档"),x=(0,n.Uk)("。"),L={},C=(0,a(6959).Z)(L,[["render",function(e,t){const a=(0,n.up)("ExternalLinkIcon");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("p",null,[(0,n._)("a",l,[d,(0,n.Wm)(a)]),p]),(0,n._)("p",null,[(0,n._)("a",c,[i,(0,n.Wm)(a)])]),h,g,u,m,k,(0,n._)("p",null,[_,(0,n._)("a",f,[v,(0,n.Wm)(a)]),b]),D,(0,n._)("p",null,[U,(0,n._)("a",w,[y,(0,n.Wm)(a)]),x])],64)}]])},3307:(e,t,a)=>{e.exports=a.p+"assets/img/deta-1.a238d26f.png"},3062:(e,t,a)=>{e.exports=a.p+"assets/img/deta-2.295d8a01.png"},761:(e,t,a)=>{e.exports=a.p+"assets/img/deta-3.31cf0dda.jpg"}}]);
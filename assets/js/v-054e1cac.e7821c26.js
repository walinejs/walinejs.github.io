(self.webpackChunkwaline=self.webpackChunkwaline||[]).push([[2597],{7376:(s,n,a)=>{"use strict";a.r(n),a.d(n,{data:()=>e});const e={key:"v-054e1cac",path:"/en/client/emoji.html",title:"Custom emoji",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Basic",slug:"basic",children:[]},{level:2,title:"Example",slug:"example",children:[]},{level:2,title:"Historical issues",slug:"historical-issues",children:[]}],filePathRelative:"en/client/emoji.md",git:{updatedTime:1621950077e3,contributors:[]}}},5285:(s,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>p});const e=(0,a(6252).uE)('<h1 id="custom-emoji"><a class="header-anchor" href="#custom-emoji">#</a> Custom emoji</h1><h2 id="basic"><a class="header-anchor" href="#basic">#</a> Basic</h2><p>Waline supports <code>Custom Emoji</code>, built-in <code>weibo emoticons</code> by default.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Waline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">&#39;#waline&#39;</span><span class="token punctuation">,</span>\n  serverURL<span class="token operator">:</span> <span class="token string">&#39;&lt;YOUR SERVER URL&gt;&#39;</span><span class="token punctuation">,</span>\n\n  <span class="token comment">// 这里设置CDN, 默认微博表情CDN</span>\n  emojiCDN<span class="token operator">:</span> <span class="token string">&#39;https://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/&#39;</span><span class="token punctuation">,</span>\n  <span class="token comment">// 表情title和图片映射</span>\n  emojiMaps<span class="token operator">:</span> <span class="token punctuation">{</span>\n    smile<span class="token operator">:</span> <span class="token string">&#39;e3/2018new_weixioa02_org.png&#39;</span><span class="token punctuation">,</span>\n    lovely<span class="token operator">:</span> <span class="token string">&#39;09/2018new_keai_org.png&#39;</span><span class="token punctuation">,</span>\n    <span class="token comment">// ... 更多表情</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="example"><a class="header-anchor" href="#example">#</a> Example</h2><p>For example, we want to use <code>Bilibili</code> emoji:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Waline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">&#39;#waline&#39;</span><span class="token punctuation">,</span>\n  serverURL<span class="token operator">:</span> <span class="token string">&#39;&lt;YOUR SERVER URL&gt;&#39;</span><span class="token punctuation">,</span>\n\n  <span class="token comment">// bilibli emoji url address</span>\n  emojiCDN<span class="token operator">:</span> <span class="token string">&#39;//i0.hdslb.com/bfs/emote/&#39;</span><span class="token punctuation">,</span>\n  <span class="token comment">// emoji title and image</span>\n  emojiMaps<span class="token operator">:</span> <span class="token punctuation">{</span>\n    tv_doge<span class="token operator">:</span> <span class="token string">&#39;6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png&#39;</span><span class="token punctuation">,</span>\n    tv_亲亲<span class="token operator">:</span> <span class="token string">&#39;a8111ad55953ef5e3be3327ef94eb4a39d535d06.png&#39;</span><span class="token punctuation">,</span>\n    tv_偷笑<span class="token operator">:</span> <span class="token string">&#39;bb690d4107620f1c15cff29509db529a73aee261.png&#39;</span><span class="token punctuation">,</span>\n    tv_再见<span class="token operator">:</span> <span class="token string">&#39;180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png&#39;</span><span class="token punctuation">,</span>\n    tv_冷漠<span class="token operator">:</span> <span class="token string">&#39;b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png&#39;</span><span class="token punctuation">,</span>\n    tv_发怒<span class="token operator">:</span> <span class="token string">&#39;34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png&#39;</span><span class="token punctuation">,</span>\n    tv_发财<span class="token operator">:</span> <span class="token string">&#39;34db290afd2963723c6eb3c4560667db7253a21a.png&#39;</span><span class="token punctuation">,</span>\n    tv_可爱<span class="token operator">:</span> <span class="token string">&#39;9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png&#39;</span><span class="token punctuation">,</span>\n    tv_吐血<span class="token operator">:</span> <span class="token string">&#39;09dd16a7aa59b77baa1155d47484409624470c77.png&#39;</span><span class="token punctuation">,</span>\n    tv_呆<span class="token operator">:</span> <span class="token string">&#39;fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png&#39;</span><span class="token punctuation">,</span>\n    tv_呕吐<span class="token operator">:</span> <span class="token string">&#39;9f996894a39e282ccf5e66856af49483f81870f3.png&#39;</span><span class="token punctuation">,</span>\n    tv_困<span class="token operator">:</span> <span class="token string">&#39;241ee304e44c0af029adceb294399391e4737ef2.png&#39;</span><span class="token punctuation">,</span>\n    tv_坏笑<span class="token operator">:</span> <span class="token string">&#39;1f0b87f731a671079842116e0991c91c2c88645a.png&#39;</span><span class="token punctuation">,</span>\n    tv_大佬<span class="token operator">:</span> <span class="token string">&#39;093c1e2c490161aca397afc45573c877cdead616.png&#39;</span><span class="token punctuation">,</span>\n    tv_大哭<span class="token operator">:</span> <span class="token string">&#39;23269aeb35f99daee28dda129676f6e9ea87934f.png&#39;</span><span class="token punctuation">,</span>\n    tv_委屈<span class="token operator">:</span> <span class="token string">&#39;d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png&#39;</span><span class="token punctuation">,</span>\n    tv_害羞<span class="token operator">:</span> <span class="token string">&#39;a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png&#39;</span><span class="token punctuation">,</span>\n    tv_尴尬<span class="token operator">:</span> <span class="token string">&#39;7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png&#39;</span><span class="token punctuation">,</span>\n    tv_微笑<span class="token operator">:</span> <span class="token string">&#39;70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png&#39;</span><span class="token punctuation">,</span>\n    tv_思考<span class="token operator">:</span> <span class="token string">&#39;90cf159733e558137ed20aa04d09964436f618a1.png&#39;</span><span class="token punctuation">,</span>\n    tv_惊吓<span class="token operator">:</span> <span class="token string">&#39;0d15c7e2ee58e935adc6a7193ee042388adc22af.png&#39;</span><span class="token punctuation">,</span>\n    <span class="token comment">// ... more</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="historical-issues"><a class="header-anchor" href="#historical-issues">#</a> Historical issues</h2><div class="custom-container tip"><p class="custom-container-title">Emoji Size</p><p>In historical versions, since HTML tags will be escaped, Emoji images completely use Markdown&#39;s image syntax, which results of Emoji being rendered by the original <code>&lt;img&gt;</code> tag in historical versions. If you use a high-definition emoticon pack, it may cause display size problems. After <code>@waline/client@0.16.0</code>, the emoji size was successfully repaired.</p><p>If you need to adapt the emoji size of the historical version, you can use the CSS selector to do this:</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* You need to replace `https://img.t.sinajs.cn` with your own CDN */</span>\n<span class="token selector">.v[data-class=&#39;v&#39;] .vcontent img[src^=&quot;https://img.t.sinajs.cn&quot;]</span>\n<span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 1.25em<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div>',9),p={render:function(s,n){return e}}}}]);
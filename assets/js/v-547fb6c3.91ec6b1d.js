"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9550],{6340:(e,n,l)=>{l.r(n),l.d(n,{data:()=>a});const a={key:"v-547fb6c3",path:"/guide/server/aliyun-fc.html",title:"阿里云函数计算部署",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"如何部署",slug:"如何部署",children:[{level:3,title:"Windows 环境缺少 VC++",slug:"windows-环境缺少-vc",children:[]},{level:3,title:"缺少 Python",slug:"缺少-python",children:[]}]},{level:2,title:"如何更新",slug:"如何更新",children:[]},{level:2,title:"如何修改环境变量",slug:"如何修改环境变量",children:[]}],git:{updatedTime:1644662181e3,contributors:[{name:"Mr.Hope",email:"zhangbowang1998@gmail.com",commits:1}]},filePathRelative:"guide/server/aliyun-fc.md"}},1121:(e,n,l)=>{l.r(n),l.d(n,{default:()=>ve});var a=l(8917),t=l(7583),r=l(8348),s=l(7181),i=l(9113),o=l(6240),c=l(1879),u=l(4507),d=l(6029);const p=(0,a._)("h1",{id:"阿里云函数计算部署",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#阿里云函数计算部署","aria-hidden":"true"},"#"),(0,a.Uk)(" 阿里云函数计算部署")],-1),h={href:"https://fc.console.aliyun.com/",target:"_blank",rel:"noopener noreferrer"},g=(0,a.Uk)("阿里云函数计算"),_=(0,a.Uk)(" 是阿里云推出的 Serverless 平台。我们可以快速的将 Waline 部署到阿里云函数计算平台上。"),k=(0,a._)("h2",{id:"如何部署",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#如何部署","aria-hidden":"true"},"#"),(0,a.Uk)(" 如何部署")],-1),m={href:"https://github.com/walinejs/aliyun-fc-starter/generate",target:"_blank",rel:"noopener noreferrer"},f=(0,a.Uk)("aliyun-fc-starter"),y=(0,a.Uk)(" 访问该地址基于官方模板创建仓库并将其克隆下来 "),U=(0,a._)("img",{src:t,alt:""},null,-1),b=(0,a._)("br",null,null,-1),v=(0,a._)("img",{src:r,alt:""},null,-1),x=(0,a._)("li",null,[(0,a.Uk)("全局安装 Serverless Devs 开发者工具 "),(0,a._)("code",null,"npm install -g @serverless-devs/s"),(0,a._)("img",{src:s,alt:""})],-1),W=(0,a._)("li",null,[(0,a.Uk)("https://ram.console.aliyun.com/manage/ak 访问该网址获取到你账户的一对密钥，使用 s 命令添加。 "),(0,a._)("img",{src:i,alt:""}),(0,a._)("img",{src:o,alt:""})],-1),w=(0,a._)("li",null,[(0,a.Uk)("进入目录后执行 "),(0,a._)("code",null,"s deploy"),(0,a.Uk)(" 稍待片刻后完成一次部署，此时控制台中红框展示的地址即为你最终的 serverURL "),(0,a._)("img",{src:c,alt:""})],-1),j=(0,a.Uk)("点击“"),C={href:"https://fcnext.console.aliyun.com/cn-beijing/services/Waline/function-detail/Waline/LATEST?tab=config",target:"_blank",rel:"noopener noreferrer"},P=(0,a.Uk)("编辑环境变量"),S=(0,a.Uk)("”更新我们需要添加的环境变量并点击底部的保存按钮 "),T=(0,a._)("img",{src:u,alt:""},null,-1),E=(0,a.Uk)("点击“"),L={href:"https://fcnext.console.aliyun.com/cn-beijing/services/Waline/function-detail/Waline/LATEST?tab=code",target:"_blank",rel:"noopener noreferrer"},V=(0,a.Uk)("代码编辑"),A=(0,a.Uk)("”进入编辑页，在编辑器底部的控制台中输入 "),q=(0,a._)("code",null,"npm install",-1),D=(0,a.Uk)(" 安装依赖。安装完成之后点击顶部的"),H=(0,a._)("kbd",null,"部署",-1),N=(0,a.Uk)("按钮重新部署 "),O=(0,a._)("img",{src:d,alt:""},null,-1),R=(0,a._)("p",null,"至此就完成了部署，第四步中返回的地址即为你的部署地址。",-1),Y=(0,a._)("h3",{id:"windows-环境缺少-vc",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#windows-环境缺少-vc","aria-hidden":"true"},"#"),(0,a.Uk)(" Windows 环境缺少 VC++")],-1),z=(0,a.Uk)("由于 @serverless-devs/s 依赖于 node-gyp ，根据"),M={href:"https://github.com/nodejs/node-gyp#on-windows",target:"_blank",rel:"noopener noreferrer"},F=(0,a.Uk)("https://github.com/nodejs/node-gyp#on-windows"),G=(0,a.Uk)("，我们需要安装 VC++环境。"),I=(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a.Uk)("值得注意的是，VC++ 环境需要占用大量的存储资源，因此我更建议你使用 "),(0,a._)("em",null,"Windows Subsystem for Linux"),(0,a.Uk)(" 或 Linux 云服务器")])],-1),Z=(0,a.Uk)("前往"),B={href:"https://visualstudio.microsoft.com",target:"_blank",rel:"noopener noreferrer"},J=(0,a.Uk)("https://visualstudio.microsoft.com"),K=(0,a.Uk)("下载 Visual Studio 安装包"),Q=(0,a._)("li",null,[(0,a.Uk)("在安装包中勾选 "),(0,a._)("em",null,"使用 C++的桌面开发"),(0,a.Uk)(" ，勾选全部 MSVC 套件，开始安装。")],-1),X=(0,a._)("li",null,[(0,a.Uk)("使用"),(0,a._)("code",null,"npm config set msvs_version 2022"),(0,a.Uk)("设置版本信息，例如我下载的 Visual Studio Community 2022，即需填写 2022 版本")],-1),$=(0,a._)("li",null,[(0,a.Uk)("继续"),(0,a._)("code",null,"s deplay"),(0,a.Uk)("的安装过程")],-1),ee=(0,a._)("h3",{id:"缺少-python",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#缺少-python","aria-hidden":"true"},"#"),(0,a.Uk)(" 缺少 Python")],-1),ne=(0,a.Uk)("由于 @serverless-devs/s 依赖于 node-gyp ，根据"),le={href:"https://github.com/nodejs/node-gyp#configuring-python-dependency",target:"_blank",rel:"noopener noreferrer"},ae=(0,a.Uk)("https://github.com/nodejs/node-gyp#configuring-python-dependency"),te=(0,a.Uk)("，我们也需要安装 Python 环境。"),re=(0,a.uE)('<blockquote><p>Python 作为一个优秀的脚本性语言，是很值得安装的。</p></blockquote><p>node-gyp 支持 3.7/3.8/3.9/3.10 版本的 Python，你可以通过搜索引擎获取大量的帮助，因此在此不申明详细步骤。</p><p>如果你的系统有多个 Python，那你需要使用以下命令指定使用 python 的路径。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> python /path/to/executable/python\n</code></pre></div><p>如果 <code>NODE_GYP_FORCE_PYTHON</code> 环境变量被设置为 Python 可执行文件的路径，则将使用它而不是任何其他已配置或内置的 Python 。即使它不是兼容版本，也不会进行搜索。</p><h2 id="如何更新" tabindex="-1"><a class="header-anchor" href="#如何更新" aria-hidden="true">#</a> 如何更新</h2>',6),se=(0,a.Uk)("点击“"),ie={href:"https://fcnext.console.aliyun.com/cn-beijing/services/Waline/function-detail/Waline/LATEST?tab=config",target:"_blank",rel:"noopener noreferrer"},oe=(0,a.Uk)("编辑环境变量"),ce=(0,a.Uk)("”更新我们需要添加的环境变量并点击底部的保存按钮"),ue=(0,a._)("p",null,[(0,a._)("img",{src:u,alt:""})],-1),de=(0,a._)("h2",{id:"如何修改环境变量",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#如何修改环境变量","aria-hidden":"true"},"#"),(0,a.Uk)(" 如何修改环境变量")],-1),pe=(0,a.Uk)("点击“"),he={href:"https://fcnext.console.aliyun.com/cn-beijing/services/Waline/function-detail/Waline/LATEST?tab=code",target:"_blank",rel:"noopener noreferrer"},ge=(0,a.Uk)("代码编辑"),_e=(0,a.Uk)("”进入编辑页，在编辑器底部的控制台中输入 "),ke=(0,a._)("code",null,"npm install",-1),me=(0,a.Uk)(" 安装依赖。安装完成之后点击顶部的"),fe=(0,a._)("kbd",null,"部署",-1),ye=(0,a.Uk)("按钮重新部署"),Ue=(0,a._)("p",null,[(0,a._)("img",{src:d,alt:""})],-1),be={},ve=(0,l(6959).Z)(be,[["render",function(e,n){const l=(0,a.up)("ExternalLinkIcon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[p,(0,a._)("p",null,[(0,a._)("a",h,[g,(0,a.Wm)(l)]),_]),k,(0,a._)("ol",null,[(0,a._)("li",null,[(0,a._)("a",m,[f,(0,a.Wm)(l)]),y,U,b,v]),x,W,w,(0,a._)("li",null,[j,(0,a._)("a",C,[P,(0,a.Wm)(l)]),S,T]),(0,a._)("li",null,[E,(0,a._)("a",L,[V,(0,a.Wm)(l)]),A,q,D,H,N,O])]),R,Y,(0,a._)("p",null,[z,(0,a._)("a",M,[F,(0,a.Wm)(l)]),G]),I,(0,a._)("ol",null,[(0,a._)("li",null,[Z,(0,a._)("a",B,[J,(0,a.Wm)(l)]),K]),Q,X,$]),ee,(0,a._)("p",null,[ne,(0,a._)("a",le,[ae,(0,a.Wm)(l)]),te]),re,(0,a._)("p",null,[se,(0,a._)("a",ie,[oe,(0,a.Wm)(l)]),ce]),ue,de,(0,a._)("p",null,[pe,(0,a._)("a",he,[ge,(0,a.Wm)(l)]),_e,ke,me,fe,ye]),Ue],64)}]])},7583:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-1.c4a09313.jpg"},8348:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-2.5d0877d2.jpg"},7181:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-3.3d3605c8.jpg"},9113:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-4.bada9180.jpg"},6240:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-5.3137ea34.jpg"},1879:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-6.09a0ec45.jpg"},4507:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-7.3e9053aa.jpg"},6029:(e,n,l)=>{e.exports=l.p+"assets/img/aliyun-fc-8.e139b393.jpg"}}]);
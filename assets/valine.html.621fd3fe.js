import{M as a}from"./MigrationTool.06ae823d.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";import{f as r,r as c,o as _,c as h,a as o,b as t,w as i,u,F as p,d as e,e as s}from"./app.391b0ac8.js";const m=o("p",null,"Since Waline completely reuses Valine's data structure in storage, migrating from Valine to Waline is very simple.",-1),f=e("Deploy backend according to "),g=e("Vercel Deploy"),v=e(" in "),b=o("em",null,"Get Started",-1),k=e(" section. "),E=o("code",null,"LEAN_ID",-1),C=e(" and "),L=o("code",null,"LEAN_KEY",-1),w=e(" should be the same as those applied for when using Valine before. Don't forget to set "),y=o("code",null,"LEAN_MASTER_KEY",-1),V=e(" for Waline."),x=e("Modifiy frontend scripts according to "),A=e("HTML"),I=e(" in "),R=o("em",null,"Get Started",-1),N=e(" section. Please remind we should remove old configuration "),D=o("code",null,"appId",-1),M=e(" and "),S=o("code",null,"appKey",-1),T=e(" from Valine, and add "),Y=o("code",null,"serverURL",-1),B=e(" option."),F=o("div",{class:"language-diff ext-diff"},[o("pre",{class:"language-diff"},[o("code",null,`- <script src='//unpkg.com/valine/dist/Valine.min.js'><\/script>
+ <script src='//unpkg.com/@waline/client@v2/dist/waline.js'><\/script>
+ <link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet' />

  <script>
-  new Valine({
+  Waline.init({
    el: '#vcomments',
-   appId: 'Your appId',
-   appKey: 'Your appKey'
+   serverURL: 'YOUR SERVER URL'
  });
  <\/script>
`)])],-1),K={class:"custom-container tip"},P=s('<p class="custom-container-title">Config</p><p>Waline V2 has removed Valine support and moved to a better configuration. The following is a migration summary of some options:</p><ul><li><code>placeholder</code>: use <code>locales.placeholder</code></li><li><code>highlight</code>: use <code>highlighter</code></li><li><code>avatarForce</code>, <code>avatar</code>: use the server&#39;s <code>AVATAR_PROXY</code> environment variable</li><li><code>recordIP</code>: no longer display the user IP, and provide the <code>DISABLE_USERAGENT</code> environment variable on the server</li><li><code>requiredFields</code>: renamed to <code>requiredMeta</code></li><li><code>langMode</code>: renamed to <code>locales</code></li><li><code>emojiCDN</code>, <code>emojiMap</code>: use more powerful <code>emoji</code> options</li></ul>',3),U=e("For waline config, please refer to "),W=e("Client Config"),j=e(". You can also check "),G=e("Waline Client V2 Migration Guide"),q=e(" to learn about the options that are not compatible with Valine."),O=s('<div class="custom-container tip"><p class="custom-container-title">Using Leancloud China</p><p>Besides <code>LEAN_ID</code> and <code>LEAN_KEY</code>, you need to config <code>LEAN_SERVER</code> environment variable if you&#39;re the user of LeanCloud China.</p><p>Also, you need to complete Domain name filing to Local Communications Administration, that needs a Fixed IP\u3002</p></div><h2 id="migration-to-cloudbase" tabindex="-1"><a class="header-anchor" href="#migration-to-cloudbase" aria-hidden="true">#</a> Migration to Cloudbase</h2><p>If you want to migrate your Valine data to Tencent Cloud Database, you can use the import function of LeanCloud with the import function of the cloud database. Select <kbd>Import/Export</kbd> &gt; <kbd>Limit to certain classes</kbd> &gt; <kbd>Comment</kbd> &gt; <kbd>Export</kbd> in the LeanCloud background, and then you will receive a email notification.</p>',3),H=e("Paste the content of export file into the textarea below, and click the convert button to obtain the file to be imported. Enter the "),X={href:"https://console.cloud.tencent.com/tcb/db/index",target:"_blank",rel:"noopener noreferrer"},z=e("Tencent Cloud Development Backend \u2192 Database"),J=e(" page and select the "),Q=o("code",null,"Comment",-1),Z=e(" collection. If the collection doesn't exist, click "),$=o("kbd",null,"New Collection",-1),ee=e(" in the upper left corner to create it. Click the import button above, select the converted file and wait a while to complete importing."),oe=r({setup(te){return(ne,ie)=>{const n=c("RouterLink"),l=c("ExternalLinkIcon");return _(),h(p,null,[m,o("ol",null,[o("li",null,[o("p",null,[f,t(n,{to:"/en/guide/get-started.html#deploy-to-vercel-server"},{default:i(()=>[g]),_:1}),v,b,k,E,C,L,w,y,V])]),o("li",null,[o("p",null,[x,t(n,{to:"/en/guide/get-started.html#importing-in-html-client"},{default:i(()=>[A]),_:1}),I,R,N,D,M,S,T,Y,B]),F])]),o("div",K,[P,o("p",null,[U,t(n,{to:"/en/reference/client.html"},{default:i(()=>[W]),_:1}),j,t(n,{to:"/en/migration/client.html"},{default:i(()=>[G]),_:1}),q])]),O,o("p",null,[H,o("a",X,[z,t(l)]),J,Q,Z,$,ee]),t(u(a))],64)}}});var ae=d(oe,[["__file","valine.html.vue"]]);export{ae as default};

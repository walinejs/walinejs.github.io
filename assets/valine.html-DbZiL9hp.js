const __vite__fileDeps=["assets/MigrationTool-CZJ-iak3.js","assets/app-Csp0p5TM.js","assets/marked.esm-CDSXWl6X.js","assets/plugin-vue_export-helper-DlAUqK2U.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as d,g as p,_ as m,r as h,o as u,c as g,d as i,e,a as t,w as o,b as s}from"./app-Csp0p5TM.js";import{_ as v}from"./plugin-vue_export-helper-DlAUqK2U.js";const f=d({__name:"valine.html",setup(r,{expose:l}){l();const n={MigrationTool:p(()=>m(()=>import("./MigrationTool-CZJ-iak3.js"),__vite__mapDeps([0,1,2,3])))};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),b=i("p",null,"Since Waline completely reuses Valine's data structure in storage, migrating from Valine to Waline is very simple.",-1),k=i("em",null,"Get Started",-1),_=i("code",null,"LEAN_ID",-1),y=i("code",null,"LEAN_KEY",-1),w=i("code",null,"LEAN_MASTER_KEY",-1),C=i("em",null,"Get Started",-1),E=i("code",null,"appId",-1),V=i("code",null,"appKey",-1),A=i("code",null,"serverURL",-1),x=s(`<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75;">- &lt;script src=&#39;//unpkg.com/valine/dist/Valine.min.js&#39;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ &lt;script src=&#39;//unpkg.com/@waline/client@v2/dist/waline.js&#39;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ &lt;link href=&#39;//unpkg.com/@waline/client@v2/dist/waline.css&#39; rel=&#39;stylesheet&#39; /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;script&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75;">-  new Valine({</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+  Waline.init({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    el: &#39;#vcomments&#39;,</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75;">-   appId: &#39;Your appId&#39;,</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75;">-   appKey: &#39;Your appKey&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+   serverURL: &#39;YOUR SERVER URL&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),B={class:"hint-container tip"},D=s('<p class="hint-container-title">Config</p><p>Waline V2 has removed Valine support and moved to a better configuration. The following is a migration summary of some options:</p><ul><li><code>placeholder</code>: use <code>locales.placeholder</code></li><li><code>highlight</code>: use <code>highlighter</code></li><li><code>avatarForce</code>, <code>avatar</code>: use the server&#39;s <code>AVATAR_PROXY</code> environment variable</li><li><code>recordIP</code>: no longer display the user IP, and provide the <code>DISABLE_USERAGENT</code> environment variable on the server</li><li><code>requiredFields</code>: renamed to <code>requiredMeta</code></li><li><code>langMode</code>: renamed to <code>locales</code></li><li><code>emojiCDN</code>, <code>emojiMap</code>: use more powerful <code>emoji</code> options</li></ul>',3),L=s('<div class="hint-container tip"><p class="hint-container-title">Using Leancloud China</p><p>Besides <code>LEAN_ID</code> and <code>LEAN_KEY</code>, you need to config <code>LEAN_SERVER</code> environment variable if you&#39;re the user of LeanCloud China.</p><p>Also, you need to complete Domain name filing to Local Communications Administration, that needs a Fixed IP。</p></div><h2 id="migration-to-cloudbase" tabindex="-1"><a class="header-anchor" href="#migration-to-cloudbase"><span>Migration to Cloudbase</span></a></h2><p>If you want to migrate your Valine data to Tencent Cloud Database, you can use the import function of LeanCloud with the import function of the cloud database. Select <kbd>Import/Export</kbd> &gt; <kbd>Limit to certain classes</kbd> &gt; <kbd>Comment</kbd> &gt; <kbd>Export</kbd> in the LeanCloud background, and then you will receive a email notification.</p><p>Paste the content of export file into the textarea below, and click the convert button to obtain the file to be imported. Enter the <a href="https://console.cloud.tencent.com/tcb/db/index" target="_blank" rel="noopener noreferrer">Tencent Cloud Development Backend → Database</a> page and select the <code>Comment</code> collection. If the collection doesn&#39;t exist, click <kbd>New Collection</kbd> in the upper left corner to create it. Click the import button above, select the converted file and wait a while to complete importing.</p>',4),M=s('<h2 id="waline-highlights" tabindex="-1"><a class="header-anchor" href="#waline-highlights"><span>Waline Highlights</span></a></h2><p>Compared with Valine, Waline has the following highlights:</p><h3 id="more-features" tabindex="-1"><a class="header-anchor" href="#more-features"><span>More features</span></a></h3><ol><li>Markdown supports more syntax, including superscript and subscript, emoji, tables, strike-through, mathematical formulas, HTML tags, footnotes, etc.</li><li>Image upload feature, which allows customized image provider service or embedding images directly.</li><li>The brand new label system adds level labels for users according to the frequency of user interaction, and support custom labels for registered users.</li><li>Emoji presets and tab support, allowing multiple sets of Emoji, while allowing anyone to publish and use Emoji presets.</li><li>A brand new reaction system that allows visitors to express their attitude towards the article.</li><li>Comment likes, express support for the comment you like.</li><li>Pageviews, more accurate viewing and anti-tampering.</li><li>Emoji search. Customizable service, allowing users to search and insert emoticons freely.</li><li>Support registered users to edit and delete their published comments.</li></ol><h3 id="safer" tabindex="-1"><a class="header-anchor" href="#safer"><span>Safer</span></a></h3><ol><li>Zero privacy leakage, will not expose user mailboxes, IP addresses and other sensitive information, and can choose to hide user geographic location, browser and operating system at server</li><li>Complete anti-spam system. <ul><li>All comments can be authenticated by anti-spam services and support additional validation logic.</li><li>You can set the comment speed limit for a single IP or a single user, and Waline automatically identify duplicate comments.</li></ul></li><li>Comment review feature, in sensitive periods or when the website is under attack, you can enable comment review, manually review and approve the display of comments, and prevent malicious comments from causing site closure.</li><li>Support user accounts. Besides registering an account, Waline also supports social media accounts, quickly synchronizes avatars and nicknames with authorized label to prevent identity fraud.</li></ol><h3 id="more-convenient" tabindex="-1"><a class="header-anchor" href="#more-convenient"><span>more convenient</span></a></h3><ol><li>Various methods (QQ, WeChat, DingTalk, E-mail), etc. to notify bloggers about comments</li><li>Powerful management service, you can view all users and comments and perform related operations, and set custom labels and administrators for users</li><li>Front-end management, administrators can review, edit or delete comments directly through the Waline comment component.</li></ol>',8);function S(r,l,c,n,T,I){const a=h("RouteLink");return u(),g("div",null,[b,i("ol",null,[i("li",null,[i("p",null,[e("Deploy backend according to "),t(a,{to:"/en/guide/get-started/#deploy-to-vercel-server"},{default:o(()=>[e("Vercel Deploy")]),_:1}),e(" in "),k,e(" section. "),_,e(" and "),y,e(" should be the same as those applied for when using Valine before. Don't forget to set "),w,e(" for Waline.")])]),i("li",null,[i("p",null,[e("Modify frontend scripts according to "),t(a,{to:"/en/guide/get-started/#importing-in-html-client"},{default:o(()=>[e("HTML")]),_:1}),e(" in "),C,e(" section. Please remind we should remove old configuration "),E,e(" and "),V,e(" from Valine, and add "),A,e(" option.")]),x])]),i("div",B,[D,i("p",null,[e("For waline config, please refer to "),t(a,{to:"/en/reference/client/api.html"},{default:o(()=>[e("Client Config")]),_:1}),e(". You can also check "),t(a,{to:"/en/migration/v2.html"},{default:o(()=>[e("Waline Client V2 Migration Guide")]),_:1}),e(" to learn about the options that are not compatible with Valine.")])]),L,t(n.MigrationTool),M])}const R=v(f,[["render",S],["__file","valine.html.vue"]]),j=JSON.parse(`{"path":"/en/migration/valine.html","title":"Migration from Valine","lang":"en-US","frontmatter":{"title":"Migration from Valine","icon":"valine","description":"Since Waline completely reuses Valine's data structure in storage, migrating from Valine to Waline is very simple. Deploy backend according to in Get Started section. LEAN_ID an...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://waline.js.org/migration/valine.html"}],["meta",{"property":"og:url","content":"https://waline.js.org/en/migration/valine.html"}],["meta",{"property":"og:site_name","content":"Waline"}],["meta",{"property":"og:title","content":"Migration from Valine"}],["meta",{"property":"og:description","content":"Since Waline completely reuses Valine's data structure in storage, migrating from Valine to Waline is very simple. Deploy backend according to in Get Started section. LEAN_ID an..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-01-06T18:20:44.000Z"}],["meta",{"property":"article:modified_time","content":"2024-01-06T18:20:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Migration from Valine\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-01-06T18:20:44.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Migration to Cloudbase","slug":"migration-to-cloudbase","link":"#migration-to-cloudbase","children":[]},{"level":2,"title":"Waline Highlights","slug":"waline-highlights","link":"#waline-highlights","children":[{"level":3,"title":"More features","slug":"more-features","link":"#more-features","children":[]},{"level":3,"title":"Safer","slug":"safer","link":"#safer","children":[]},{"level":3,"title":"more convenient","slug":"more-convenient","link":"#more-convenient","children":[]}]}],"git":{"createdTime":1605627304000,"updatedTime":1704565244000,"contributors":[{"name":"Mr.Hope","email":"mister-hope@outlook.com","commits":11},{"name":"Mr.Hope","email":"zhangbowang1998@gmail.com","commits":2}]},"readingTime":{"minutes":2.5,"words":751},"filePathRelative":"en/migration/valine.md","localizedDate":"November 17, 2020","autoDesc":true}`);export{R as comp,j as data};

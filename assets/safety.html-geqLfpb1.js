import{_ as r}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as l,o as c,c as d,a as h,b as e,e as n,f as o,w as a,d as i}from"./app-BIYzI_q9.js";const _={},p=e("p",null,"Waline 评论系统的安全性是我们的首要考虑。我们将在这里介绍 Waline 的安全性。",-1),u=e("h2",{id:"评论安全",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#评论安全"},[e("span",null,"评论安全")])],-1),f=e("h3",{id:"防-xss-攻击",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#防-xss-攻击"},[e("span",null,"防 XSS 攻击")])],-1),m={href:"https://github.com/cure53/DOMPurify",target:"_blank",rel:"noopener noreferrer"},x=e("code",null,"<iframe>",-1),E=i('<h3 id="防止链接跟踪" tabindex="-1"><a class="header-anchor" href="#防止链接跟踪"><span>防止链接跟踪</span></a></h3><p>所有的链接都会被自动设置 <code>rel=&quot;noreferrer noopener&quot;</code> 并使用 <code>target=&quot;_blank&quot;</code> 在新窗口中打开。</p><h3 id="防止恶意内容植入" tabindex="-1"><a class="header-anchor" href="#防止恶意内容植入"><span>防止恶意内容植入</span></a></h3><ul><li><p>为了防止用户在评论区创建可提交的表单欺骗其他访客提交信息，你无法使用 <code>&lt;form&gt;</code> 与 <code>&lt;input&gt;</code></p></li><li><p>为了防止用户利用样式纂改网站页面或修改自身评论样式植入垃圾广告，<code>&lt;style&gt;</code> 标签和元素上的 <code>style</code> 属性均不可用。</p></li><li><p>为了防止用户滥用媒体自动播放功能，你无法使用 <code>autoplay</code> 属性。</p></li></ul><h3 id="防止伪造" tabindex="-1"><a class="header-anchor" href="#防止伪造"><span>防止伪造</span></a></h3><p>Waline 支持账号系统，所以你可以强制用户注册并使用账号登陆。这样访问者将不能伪造其他人发表评论。</p>',6),b=e("code",null,"login",-1),A=e("code",null,"LOGIN",-1),v=e("h2",{id:"站点安全",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#站点安全"},[e("span",null,"站点安全")])],-1),B=e("h3",{id:"频率限制",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#频率限制"},[e("span",null,"频率限制")])],-1),g=e("h3",{id:"防止灌水",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#防止灌水"},[e("span",null,"防止灌水")])],-1),k=e("p",null,"Waline 在录入评论时会对已有评论进行检测，如果检测到相似度过高的评论，将会拒绝相应评论。这可以在一定程度上防止灌水。",-1),I=e("h3",{id:"评论审查",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#评论审查"},[e("span",null,"评论审查")])],-1),N=e("p",null,"评论审查开启期间，所有新增评论会默认隐藏，你可以在 Waline 管理端或相应页面的评论框中查看并审查评论，只有你审查通过的评论才会被显示。",-1),S=e("h2",{id:"数据安全",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#数据安全"},[e("span",null,"数据安全")])],-1),W=e("p",null,"由于 Waline 拥有服务端，任何人无法篡改评论数据或浏览量。",-1),y=e("p",null,[n("同时，你可以在服务端设置 "),e("code",null,"DISABLE_USERAGENT"),n(" 和 "),e("code",null,"DISABLE_REGION"),n(" 变量，阻止他人查看用户评论的 UA 和地理位置。")],-1);function L(D,V){const s=l("ExternalLinkIcon"),t=l("RouterLink");return c(),d("div",null,[p,h(" more "),u,f,e("p",null,[n("Waline 在服务端使用 "),e("a",m,[n("DOMPurify"),o(s)]),n(" 过滤每一个评论输入，以防止潜在的 XSS 攻击。这意味着你将不能使用 "),x,n(" 以及任何形式的脚本。")]),E,e("p",null,[n("为了启用这一功能，你需要在同时在客户端和服务端设置强制登陆，详见 "),o(t,{to:"/reference/client/props.html#login"},{default:a(()=>[b]),_:1}),n(" 和 "),o(t,{to:"/reference/server/env.html#%E4%B8%BB%E8%A6%81%E9%85%8D%E7%BD%AE"},{default:a(()=>[A]),_:1}),n("。")]),v,B,e("p",null,[n("为了防止用户评论，Waline 会针对评论 IP 进行限制。在默认情况下，同一 IP 一分钟内只能发送一条评论。你可以在 "),o(t,{to:"/reference/server/env.html#%E5%AE%89%E5%85%A8"},{default:a(()=>[n("服务端参考 → 环境变量")]),_:1}),n(" 中修改这个限制。")]),g,k,I,e("p",null,[n("在你的站点被恶意攻击、敏感时期或你忙碌的时候，你可以开启评论审查功能，详见 "),o(t,{to:"/reference/server/env.html#%E5%AE%89%E5%85%A8"},{default:a(()=>[n("服务端参考 → 环境变量")]),_:1}),n("。")]),N,S,W,y])}const P=r(_,[["render",L],["__file","safety.html.vue"]]);export{P as default};

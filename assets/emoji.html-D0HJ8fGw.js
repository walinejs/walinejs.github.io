import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,b as e}from"./app-DeRfSd9r.js";const n={},t=e(`<p>本教程将指导你如何创建并使用自己的表情预设。</p><h2 id="创建自己的预设" tabindex="-1"><a class="header-anchor" href="#创建自己的预设"><span>创建自己的预设</span></a></h2><p>首先，你需要准备一些表情图片，作为你的表情包。接下来，你需要按照步骤完成下列流程。</p><h3 id="为表情包命名并上传" tabindex="-1"><a class="header-anchor" href="#为表情包命名并上传"><span>为表情包命名并上传</span></a></h3><p>处于简便性的考量，Waline 会将表情图片的名称直接作为表情的 key。这意味着，如果你引入了两个不同的预设，而它们都含有 laugh.png 图片的话，这两个表情会对应同一个表情 <code>:laugh:</code>。</p><p>所以，我们建议的最佳实践是，每个表情预设创作者应该在表情文件的所有名称中，添加一个预设名称相关的前缀。</p><p>将它们妥善命名后，你需要将它们上传到你的服务器。</p><h3 id="编写预设信息" tabindex="-1"><a class="header-anchor" href="#编写预设信息"><span>编写预设信息</span></a></h3><p>我们假定你已经在 <code>https://example.com</code> 的 <code>my-emoji</code> 目录下放置了一些表情图片，如下所示：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://example.com/my-emoji/</span></span>
<span class="line"><span>  ├─ my_laugh.png</span></span>
<span class="line"><span>  ├─ my_cute.png</span></span>
<span class="line"><span>  ├─ my_rage.png</span></span>
<span class="line"><span>  ├─ my_sob.png</span></span>
<span class="line"><span>  └─ ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时，你还需要为这个文件夹创建一个 <code>info.json</code> 文件，来让 Waline 知晓 Emoji 预设所包含的表情。</p><p>首先，我们先为 Emoji 预设起一个名称，比如叫 <code>我的 Emoji</code>，由于你已经为图片设置了 <code>my_</code> 前缀，且文件均为 <code>png</code> 格式。你需要将他们添加在 <code>info.json</code> 中。</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;我的 Emoji&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;my_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;png&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后，你需要在 <code>items</code> 中按照你希望的顺序列出所有的表情图片名称，同时，请记得忽略你已经在 <code>prefix</code> 和 <code>type</code> 中设置的前缀和后缀。</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;我的 Emoji&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;my_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;items&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;laugh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;cute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;rage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;sob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后，请选择一个有代表性的表情作为在选项卡中展示的图标:</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;我的 Emoji&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;my_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;cute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;items&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;laugh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;sob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;rage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;cute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样，你就完成了 <code>info.json</code> 的编写，请将它上传到同一个文件夹。</p><p>这样你就成功的创建了一个 <code>my-emoji</code> 预设，地址为 <code>https://example.com/my-emoji/&#39;</code> 预设。</p><h2 id="利用-github-标签与仓库镜像" tabindex="-1"><a class="header-anchor" href="#利用-github-标签与仓库镜像"><span>利用 GitHub 标签与仓库镜像</span></a></h2><p>通常情况下，你可能会觉得拥有自己的域名并将图片上传到域名有些繁琐，而且链接可能会随时间失效，所以一个进阶的做法是使用 GitHub 仓库，并利用 Git 的标签功能，通过 GitHub 镜像来部署的表情。</p><p>与上面的步骤类似，这次，你需要新建 GitHub 仓库，并将表情按照上述的方法进行命名，使用相同步骤创建 <code>info.json</code>，并将它们上传到仓库中。</p><p>之后，为此时的仓库创建一个标签，我们推荐使用 <code>vx.x.x</code> 的格式进行设置，如 <code>v1.0.0</code>。</p><p>添加标签后，你可以使用 <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener noreferrer">cdn.jsdelivr.net</a> 上带有版本的 CDN 链接作为你的预设，其格式为 <code>https://cdn.jsdelivr.net/gh/user/repo@version/file</code>。</p><p>我们假定你创建了 <code>example/emoji</code> 仓库，直接上传了表情图片和 <code>info.json</code>，并且已经创建了 <code>v1.0.0</code> 标签，那么你可以使用 <code>https://cdn.jsdelivr.net/gh/example/emoji@v1.0.0/</code> 作为你的预设。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>为链接绑定标签是十分必要的，这可以防止因修改你的预设导致历史评论引用的图片链接失效。</p><p>官方的表情包预设，就是通过创建 <a href="https://github.com/walinejs/emojis" target="_blank" rel="noopener noreferrer">walinejs/emojis</a> 仓库，并使用 CDN 链接来实现的。目前我们正在使用 <code>v1.2.0</code> 版本。</p></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>cdn.jsdelivr.net 可能在国内受到污染，你可以将 <code>cdn.jsdelivr.net</code> 换成 <code>gcore.jsdelivr.net</code>，或代理<code>cdn.jsdelivr.net</code>使用，</p></div><h2 id="使用配置对象" tabindex="-1"><a class="header-anchor" href="#使用配置对象"><span>使用配置对象</span></a></h2><p>和前文类似，我们假设你有下列文件结构:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://example.com/my-emoji/</span></span>
<span class="line"><span>├─ my_laugh.png</span></span>
<span class="line"><span>├─ my_cute.png</span></span>
<span class="line"><span>├─ my_rage.png</span></span>
<span class="line"><span>└─ my_sob.png</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在创建 <code>info.json</code> 上传并使用链接作为预设之外，你也可以直接使用下列对象作为预设:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;我的 Emoji&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  folder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;https://example.com/my-emoji&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;my_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  icon</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;cute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  items</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;laugh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;sob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;rage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;cute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里，我们额外添加了 <code>folder</code> 属性来告知 Waline 图片的存放位置。</p>`,33),l=[t];function h(p,d){return s(),a("div",null,l)}const r=i(n,[["render",h],["__file","emoji.html.vue"]]),c=JSON.parse('{"path":"/cookbook/customize/emoji.html","title":"创建自己的表情预设","lang":"zh-CN","frontmatter":{"title":"创建自己的表情预设","icon":"emoji","description":"本教程将指导你如何创建并使用自己的表情预设。 创建自己的预设 首先，你需要准备一些表情图片，作为你的表情包。接下来，你需要按照步骤完成下列流程。 为表情包命名并上传 处于简便性的考量，Waline 会将表情图片的名称直接作为表情的 key。这意味着，如果你引入了两个不同的预设，而它们都含有 laugh.png 图片的话，这两个表情会对应同一个表情 :l...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://waline.js.org/en/cookbook/customize/emoji.html"}],["meta",{"property":"og:url","content":"https://waline.js.org/cookbook/customize/emoji.html"}],["meta",{"property":"og:site_name","content":"Waline"}],["meta",{"property":"og:title","content":"创建自己的表情预设"}],["meta",{"property":"og:description","content":"本教程将指导你如何创建并使用自己的表情预设。 创建自己的预设 首先，你需要准备一些表情图片，作为你的表情包。接下来，你需要按照步骤完成下列流程。 为表情包命名并上传 处于简便性的考量，Waline 会将表情图片的名称直接作为表情的 key。这意味着，如果你引入了两个不同的预设，而它们都含有 laugh.png 图片的话，这两个表情会对应同一个表情 :l..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-08-29T05:05:44.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-29T05:05:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"创建自己的表情预设\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-08-29T05:05:44.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"创建自己的预设","slug":"创建自己的预设","link":"#创建自己的预设","children":[{"level":3,"title":"为表情包命名并上传","slug":"为表情包命名并上传","link":"#为表情包命名并上传","children":[]},{"level":3,"title":"编写预设信息","slug":"编写预设信息","link":"#编写预设信息","children":[]}]},{"level":2,"title":"利用 GitHub 标签与仓库镜像","slug":"利用-github-标签与仓库镜像","link":"#利用-github-标签与仓库镜像","children":[]},{"level":2,"title":"使用配置对象","slug":"使用配置对象","link":"#使用配置对象","children":[]}],"git":{"createdTime":1669825130000,"updatedTime":1693285544000,"contributors":[{"name":"Mr.Hope","email":"zhangbowang1998@gmail.com","commits":2},{"name":"ab8ing","email":"140275977+ab8ing@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":3.26,"words":977},"filePathRelative":"cookbook/customize/emoji.md","localizedDate":"2022年11月30日","autoDesc":true}');export{r as comp,c as data};
